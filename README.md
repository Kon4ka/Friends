# Friends
 VK Python Developer test

##Task:
+Необходимо спроектировать и разработать Django-сервис друзей.
#Сервис должен предоставлять возможности:
+ зарегистрировать нового пользователя
+ отправить одному пользователю заявку в друзья другому
+ принять/отклонить пользователю заявку в друзья от другого пользователя
++ посмотреть пользователю список своих исходящих и входящих заявок в друзья
+ посмотреть пользователю список своих друзей
+ получить пользователю статус дружбы с каким-то другим пользователем (нет ничего / есть исходящая заявка / есть входящая заявка / уже друзья)
+ удалить пользователю другого пользователя из своих друзей
+ если пользователь1 отправляет заявку в друзья пользователю2, а пользователь2 отправляет заявку пользователю1, то они автоматом становятся друзьями, их заявки автоматом принимаются

#Необходимо:
+ описать REST интерфейс сервиса с помощью OpenAPI
+ написать на Django сервис по этой спецификации
+ описать краткую документацию с примерами запуска сервиса и вызова его API
- unit-тесты будут плюсом
+ Dockerfile для упаковки в контейнер будет плюсом

#Выходные артефакты:
+ исходный код
+ [OpenAPI спецификация](https://github.com/Kon4ka/Friends/blob/master/friendtalk/openapi.json)
+ документация с описанием запуска и примерами использования API (readme)

# Инструкция

Friends - это проект, который позволяет создавать и управлять списками друзей.

## Запуск из докера

Для запуска проекта из докера вам нужен docker desktop.

- Скачайте проект при помощи кнопки "Download ZIP" и разархивируйте или сразу скачайте при помощи git команды `git clone https://github.com/Kon4ka/Friends.git`
- Запустите docker desktop.
- Откройте консоль cmd или консоль linux, перейдите в папку со скаченным проектом, туда где лежит "docker-compose.yml" и введите команду `docker-compose up`. Это развернет и запустит программу.

## Обычный запуск

Вы также можете запустить проект без докера, используя следующие команды:

- Создайте виртуальное окружение: `python -m venv venv`
- Активируйте виртуальное окружение: `venv\Scripts\activate` (для Windows) или `source venv/bin/activate` (для Linux)
- Загрузите все файлы из requirements: `pip install -r requirements.txt`
- Запустите сервер: `python manage.py runserver`

Хорошо, я продолжу.

## Использование

При запуске программы из докера для удобства проверки сразу создается суперпользователь admin с паролем password. При необходимости можно убрать это в файле docker-compose.yml в строках 26 и 40. 
После запуска приложение начинает свою работу по порту 8000. 

Путь по умолчанию главной страницы: localhost:8000/*страница, которую хотите посетить*. 
Вот список страниц с кратким описанием и url:

- localhost:8000/swagger (Swagger UI) - интерактивная документация API с возможностью тестирования запросов
- localhost:8000/redoc (ReDoc) - альтернативная документация API в виде статической страницы
- localhost:8000/login (Вход) - страница для входа в систему существующего пользователя
- localhost:8000/register (Регистрация) - страница для регистрации нового пользователя
- localhost:8000/add-friend (Добавить друга) - страница для отправки заявки в друзья
- localhost:8000/accounts/profile (Профиль) - страница для просмотра своего профиля и списка друзей
- localhost:8000/accounts/requests (Запросы в друзья) - страница для просмотра и принятия или отклонения входящих заявок в друзья
- localhost:8000/accounts/requests/accept/int:q (Принять запрос) - страница для подтверждения принятия заявки в друзья от определенного пользователя
- localhost:8000/accounts/out-requests (Исходящие запросы) - страница для просмотра и отмены исходящих заявок в друзья
- localhost:8000/accounts/requests/decline/int:request_id (Отклонить запрос) - страница для отклонения заявки в друзья от определенного пользователя
- localhost:8000/accounts/delete/int:friend_id (Удалить друга) - страница для подтверждения удаления друга из своего списка
- localhost:8000/accounts/str:name (Статус запроса) - страница для проверки статуса заявки в друзья к определенному пользователю
